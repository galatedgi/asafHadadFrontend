(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9285"],{"326f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{dir:"rtl"}},[a("h1",{staticClass:"title"},[e._v("קבע תור חדש!")]),a("b-form",[a("b-form-group",{attrs:{id:"input-group-days","label-cols-sm":"10",label:"תאריך:","label-for":"days"}},[a("b-form-select",{attrs:{id:"days",options:e.days},on:{change:function(t){return e.times()}},model:{value:e.form.day,callback:function(t){e.$set(e.form,"day",t)},expression:"form.day"}})],1),a("b-form-group",{attrs:{id:"input-group-times","label-cols-sm":"10",label:"שעה:","label-for":"daytimes"}},[a("b-form-select",{attrs:{id:"daytimes",options:e.daytimes,disabled:""},on:{change:function(t){return e.changeBtn()}},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),a("b-button",{staticClass:"ml-5 w-75 Rbtn",staticStyle:{width:"250px"},attrs:{id:"submitBtn",type:"submit",variant:"primary",disabled:""},on:{click:function(t){return e.addTurn()}}},[e._v("הזמן תור")])],1)],1)},n=[],d=(a("96cf"),a("1da1")),s=["יום ראשון","יום שני","יום שלישי","יום רביעי","יום חמישי","יום שישי"],o={name:"addTurn",data:function(){return{form:{day:"",time:""},days:[{value:null,text:"",disabled:!0}],daytimes:[{value:null,text:"",disabled:!0}]}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("https://asafhadadbackend.herokuapp.com/queue/dates");case 3:for(r in a=t.sent,a.data,a.data)n=new Object,"Sunday"==a.data[r].day?(n.text=a.data[r].date+" "+s[0],n.value=a.data[r].date,e.days.push(n)):"Monday"==a.data[r].day?(n.text=a.data[r].date+" "+s[1],n.value=a.data[r].date,e.days.push(n)):"Tuesday"==a.data[r].day?(n.text=a.data[r].date+" "+s[2],n.value=a.data[r].date,e.days.push(n)):"Wednesday"==a.data[r].day?(n.text=a.data[r].date+" "+s[3],n.value=a.data[r].date,e.days.push(n)):"Thursday"==a.data[r].day?(n.text=a.data[r].date+" "+s[4],n.value=a.data[r].date,e.days.push(n)):"Friday"==a.data[r].day&&(n.text=a.data[r].date+" "+s[5],n.value=a.data[r].date,e.days.push(n));t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$router.push("/error");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},methods:{times:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r,n,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.daytimes=[],e.form.time="",t.next=5,e.axios.get("https://asafhadadbackend.herokuapp.com/queue/allturns/day/".concat(e.form.day));case 5:for(r in a=t.sent,a.data)console.log(a.data[r]),"free"==a.data[r].status?(n=new Object,n.text=a.data[r].time,n.value=a.data[r].time,n.disabled=!1,e.daytimes.push(n)):(d=new Object,d.text=a.data[r].time,d.value=a.data[r].time,d.disabled=!0,e.daytimes.push(d));document.getElementById("daytimes").disabled=!1,console.log(a),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),e.$router.push("/error");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},addTurn:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r,n,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.$root.store.username,console.log("dsds"),console.log(a),r=e.form.day,n=e.form.time,t.next=8,e.axios.post("https://asafhadadbackend.herokuapp.com/queue/addturn",{username:a,date:r,time:n});case 8:d=t.sent,console.log(d),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0),e.$router.push("/error");case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},changeBtn:function(){document.getElementById("submitBtn").disabled=!1}}},u=o,i=a("2877"),c=Object(i["a"])(u,r,n,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0b9285.f0e388b5.js.map